<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>I Do Not Consent – Sandbaai SRA</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      background: #f0f0f0;
      line-height: 1.6;
    }
    h2 {
      text-align: center;
    }
    form {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input[type="text"], input[type="email"], textarea {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      box-sizing: border-box;
    }
    textarea {
      min-height: 120px;
    }
    .checkbox-group {
      margin-top: 10px;
    }
    .checkbox-group label {
      display: block;
      margin-left: 20px;
    }
    button {
      margin-top: 20px;
      padding: 10px;
      background: #0074cc;
      color: white;
      border: none;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
    }
    button:hover {
      background: #005fa3;
    }
    .note {
      font-size: 0.9em;
      color: #555;
      margin-top: 10px;
    }
    ul {
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h2>Revoke Consent for Sandbaai SRA</h2>

<form onsubmit="return sendEmail()">
  <label>First Name:
    <input type="text" id="firstName" required>
  </label>

  <label>Last Name:
    <input type="text" id="lastName" required>
  </label>

  <label>Property ERF (or street address if unknown):
    <input type="text" id="erf" required>
  </label>

  <label>Email address (use the same email you receive your rates and taxes at):
    <input type="email" id="email" required>
  </label>

  <div class="checkbox-group">
    <strong>Reasons for revoking consent (select all that apply):</strong>
    <label><input type="checkbox" name="reasons" value="Dishonesty of steering committee"> Dishonesty of steering committee</label>
    <label><input type="checkbox" name="reasons" value="Harassment"> Harassment</label>
    <label><input type="checkbox" name="reasons" value="Corruption"> Corruption</label>
    <label><input type="checkbox" name="reasons" value="Lack of transparency"> Lack of transparency</label>
    <label><input type="checkbox" name="reasons" value="Other"> Other</label>
  </div>

  <label>Comments (optional – tell the municipality why you wish to revoke your consent):
    <textarea id="comments"></textarea>
  </label>

  <button type="submit">Email Overstrand Municipality</button>
  <div class="note">This button will open your email app. You will need to push the send button there.</div>
</form>

<h3>Why revoke your consent?</h3>
<p>The Sandbaai SRA steering committee has abused the trust of the people and violated the law. Many people with good intentions have realised they were misled. Here are some of the problems:</p>
<ul>
  <li>Lack of financial transparency</li>
  <li>Ignoring public objections</li>
  <li>Manipulation of information shared with residents</li>
  <li>Failure to disclose conflicts of interest</li>
  <li>Harassment of those who ask questions</li>
</ul>

<p><strong>Privacy:</strong> <i>The data you enter on this page is not shared with anyone. It is only used to generate the email you send. Unlike the SRA we respect your privacy.</i></p>

<p>Signed,<br><strong>I Love Sandbaai</strong></p>

<script>
  function sendEmail() {
    var firstName = document.getElementById("firstName").value.trim();
    var lastName = document.getElementById("lastName").value.trim();
    var erf = document.getElementById("erf").value.trim();
    var email = document.getElementById("email").value.trim();
    var comments = document.getElementById("comments").value.trim();

    // Validate required fields
    if (!firstName || !lastName || !erf || !email) {
      alert("Please fill out all required fields.");
      return false;
    }

    // Validate email format
    var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(email)) {
      alert("Please enter a valid email address.");
      return false;
    }

    // Gather reasons
    var reasonInputs = document.querySelectorAll('input[name="reasons"]:checked');
    var reasons = Array.from(reasonInputs).map(input => input.value);
    var reasonsText = "";

    if (reasons.length > 0) {
      reasonsText = "Some of the reasons I do not consent to an SRA are: " + reasons.join(", ") + ".\n\n";
    }

    var body = "I hereby formally notify the Overstrand Municipality that I do not give my consent for the formation of an SRA in Sandbaai. The OM may contact me for verification. Please confirm that it is on record that I do not consent to the formation of an SRA in Sandbaai.\n\n"
      + reasonsText
      + "First Name: " + firstName + "\n"
      + "Last Name: " + lastName + "\n"
      + "Property ERF/Address: " + erf + "\n"
      + "Email: " + email + "\n"
      + (comments ? "Comments: " + comments + "\n" : "");

    var mailtoLink = "mailto:ilovesandbaai@gmail.com"
      + "?subject=" + encodeURIComponent("I do not consent to the formation of the Sandbaai SRA")
      + "&bcc=" + encodeURIComponent("ilovesandbaai@gmail.com")
      + "&body=" + encodeURIComponent(body);

    window.location.href = mailtoLink;
    return false; // prevent default form submission
  }
</script>

</body>
</html>
